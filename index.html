<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Resource Planning</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <button class="toggle-sidebar" id="toggleSidebar">
        <i class="bars"></i>
    </button>

    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><i class="calculator"></i>ERP Finance</h2>
        </div>

        <ul class="sidebar-menu">
            <li><a href="" class="active" data-page="dashboard"><i class="home"></i> Dashboard</a></li>
            <li><a href="" data-page="coa"><i class="list"></i> Chart Of Accounts</a></li>
            <li><a href="" data-page="gl"><i class="book"></i> General Ledger</a></li>
            <li><a href="" data-page="ap"><i class="invoice-dollar"></i>Account Payable <span
                        class="badge new">5</span></a></li>
            <li><a href="" data-page="ar"><i class="hand-holding-usd"></i> Account Receivable <span
                        class="badge new">12</span></a></li>
            <li><a href="" data-page="assets"><i class="building"></i> Fixed Assets</a></li>
            <li><a href="" data-page="bank"><i class="university"></i> Bank & Receivable</a></li>
            <li><a href="" data-page="budget"><i class="chart-line"></i> Budgeting</a></li>
            <li><a href="" data-page="reports"><i class="chart-bar"></i> Financial Reports</a></li>
            <li><a href="" data-page="users"><i class="user-cog"></i> User Management</a></li>
            <li><a href="" data-page="setup"><i class="cogs"></i> Module Setup</a></li>
            <li><a href="" data-page="comparison"><i class="columns"></i> Domin Comparison</a></li>
        </ul>
    </nav>

    <main class="main-content" id="mainContent">

        <div class="topbar">
            <div class="page-title">
                <h1 id="pageTitle">Finance Dashboard</h1>
                <div class="subtitle" id="domainBadge">General Business</div>
            </div>
            <div class="user-actions">
                <div class="notification" onclick="toggleNotifications()">
                    <i class="bell" style="font-size: 1.3rem; color: #666;"> </i>
                    <span class="notification-badge">3</span>
                </div>
                <select class="form-control filter-dropdown" id="domainSelector" style="width: 180px;"
                    onchange="changeDomain(this.value)">
                    <option value="general">General Business</option>
                    <option value="hotel">Hotel Industry</option>
                    <option value="education">Education Sector</option>
                    <option value="banking">Banking</option>
                    <option value="manufacturing">Manufacturing</option>
                </select>
                <div class="user-profile" onclick="showUserMenu()">
                    <div class="user-avatar">
                        <span id="userInitials">AD</span>
                    </div>
                    <div class="user-info">
                        <h4 id="userName">Admin User</h4>
                        <p id="userRole">System Administrator</p>
                    </div>
                    <i class="chevron-down"></i>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div class="page-content active" id="dashboardContent">
                <div class="card-container">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="dollar-sign"></i>Total Revenue</div>
                            <i class="chart-line" style="color: var(--success);"></i>
                        </div>
                        <div class="card-value" id="totalRevenue">$ 245,830</div>
                        <div class="card-trend positive">
                            <i class="arrow-up"></i> 12.5% Vs last Month
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="file-invoice"></i> Account Receivable</div>
                            <i class="exclumation-circle" style="color: var(--warning);"></i>
                        </div>
                        <div class="card-value" id="totalAR">$ 42,560</div>
                        <div class="card-trend negative">
                            <i class="arrow-up"></i> 8.2% overdue
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="invoice-dollar"></i> Account Payable</div>
                            <i class="clock" style="color: var(--danger);"></i>
                        </div>
                        <div class="card-value" id="totalAP">$ 28, 750</div>
                        <div class="card-trend positive">
                            <i class="arrow-down"></i> 15.3% decrease
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title"><i class="university"></i> Cash Balance</div>
                            <i class="piggy-bank" style="color: var(--primary);"></i>
                        </div>
                        <div class="card-value" id="cashBalance">$ 125,420</div>
                        <div class="card-trend positive">
                            <i class="arrow-up"></i> 5.8% increase
                        </div>
                    </div>
                </div>

                <div class="module-section">
                    <div class="section-header">
                        <h2 class="section-title"><i class="chart-line"></i> Financial Overview</h2>
                        <div class="section-action">
                            <select class="from-control" id="chartPeriod" style="width:  150px;"
                                onchange="updateFinancialChart()">
                                <option value="30">Last 30 Days</option>
                                <option value="90">LastQuarter</option>
                                <option value="365">Last Year</option>
                                <option value="ytd">Year TO Date</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="financialChart"></canvas>
                    </div>
                </div>

                <div class="moule-selction">
                    <div class="section-header">
                        <h2 class="section-title"><i class="tasks"></i> Pending Actions</h2>
                        <button class="btn btn-primary" onclick="markAllComplete()">Mark All Complete</button>
                    </div>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Action</th>
                                    <th>Module</th>
                                    <th>Priority</th>
                                    <th>Due Date</th>
                                    <th>Status</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="pendingActions"></tbody>
                        </table>
                    </div>
                </div>
            </div>


            <div id="coContent" class="page-content" style="display: none;">
                <div class="module-section">
                    <div class="section-header">
                        <h2 class="section-title"><i class="list-alt"></i>Chart Of Accounts</h2>
                        <div class="section-actions">
                            <button class="btn btn-primary" onclick="showModal('addAccountModal')"><i
                                    class="plus"></i>Add Account</button>
                            <button class="btn btn-success" onclick="exportCOA()"><i class="export"></i>Export</button>
                            <button class="btn btn-info" onclick="loadSampleCOA()"><i class="download"></i>Load
                                Sample</button>
                        </div>
                    </div>

                    <div class="search-filter">
                        <div class="search-box">
                            <i class="search"></i>
                            <input type="text" class="form-control" id="coaSearch" placeholder="Search account..."
                                onkeyup="searchCOA()">
                        </div>
                        <select class="form-control filter-dropdown" id="coTypeFilter" onchange="filterCOA()">
                            <option value="all">All Types</option>
                            <option value="Asset">Asset</option>
                            <option value="Liability">Liability</option>
                            <option value="Equity">Equity</option>
                            <option value="Revenue">Revenue</option>
                            <option value="Expense">Expense</option>
                        </select>
                        <select class="form-control filter-dropdown" id="coStatusFilter" onchange="filterCOA()">
                            <option value="all">All Status</option>
                            <option value="Active">Active</option>
                            <option value="Inactive">Inactive</option>
                        </select>
                    </div>

                    <div class="tabs">
                        <div class="tab active" data-tab="accounts">Account List</div>
                        <div class="tab" data-tab="hierarchy">Account Hierarchy</div>
                        <div class="tab" data-tab="balance">Account Balances</div>
                    </div>

                    <div class="tab-content active" id="accountsTab">
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Account Code</th>
                                        <th>Account Name</th>
                                        <th>Type</th>
                                        <th>Sub-type</th>
                                        <th>Balance</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="coTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="hierarchyTab">
                        <div class="bank-card">
                            <h3>Account hierarchy</h3>
                            <div id="coHierarchy"></div>
                        </div>
                    </div>

                    <div class="tab-content" id="balancesTab">
                        <div class="chart-container">
                            <canvas id="coBalanceChart"></canvas>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Account Type</th>
                                        <th>Number Of Account</th>
                                        <th>Total Balance</th>
                                        <th>Percentage</th>
                                    </tr>
                                </thead>
                                <tbody id="coBalancesTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div id="ledgerContent" class="page-content" style="display: none;">
                <div class="module-section">
                    <div class="section-header">
                        <h2 class="section-title"><i class="book"></i> General Ledger</h2>
                        <div class="section-action">
                            <button class="btn btn-primary" onclick="showModal('journalEntryModal')"><i class="plus"></i> Add Journal Entry</button>
                            <button class="btn btn-success" onclick="postAllEntries()"><i class="check-circle"></i> Post All Entries</button>
                            <button class="btn btn-info" onclick="runMonthEndClose()"><i class="calender-check"></i> Month-end Close</button>
                        </div>
                    </div>

                    <div class="cards-container">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Total Journal Entries</div>
                                <i class="file-alt" style="color: var(--primary);"></i>
                            </div>
                            <div class="card-value"><span id="totalJournals">0</span></div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">Unposted Entries</div>
                                <i class="clock" style="color: var(--warning);"></i>
                            </div>
                            <div class="card-value"><span id="unpostJournals">0</span></div>
                        </div>
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title">This Month</div>
                                <i class="calendar" style="color: var(--info);"></i>
                            </div>
                            <div class="card-value"><span id="monthJournals">0</span></div>
                        </div>
                        <div class="card">
                            <div class="card header">
                                <div class="card-title">Debit/Credit Balance</div>
                                <i class="balance-scale" style="color: var(--success);"></i>
                            </div>
                            <div class="card-value" style="font-size: 1.5rem;"><span id="debitCreditBalance">$0.00</span></div>
                        </div>
                    </div>

                    <div class="workflow-steps">
                        <div class="step completed" id="step1">
                            <i class="plus"></i>
                            <div class="step-label">Creat Entry</div>
                        </div>
                        <div class="step" id="step2">
                            <i class="eye"></i>
                            <div class="step-label">Review</div>
                        </div>
                        <div class="step" id="step3">
                            <i class="check"></i>
                            <div class="step-label">Approve</div>
                        </div>
                        <div class="step" id="step4">
                            <i class="book"></i>
                            <div class="step-label">Post To GL</div>
                        </div>
                    </div>

                    <div class="tabs">
                        <div class="tab active" data-tab="journals">Journal Entries</div>
                        <div class="tab" data-tab="trialbalance">Trial Balance</div>
                        <div class="tab" data-tab="ledger">Ledger Details</div>
                        <div class="tab" data-tab="closing">Period Closing</div>
                    </div>

                    <div class="tab-content active" id="journalsTab">
                        <div class="search-filter">
                            <div class="search-box">
                                <i class="search"></i>
                                <input type="text" class="form-control" id="journalSearch" placeholder="Search journal entries..." onkeyup="searchJournals()">
                            </div>
                            <select class="form-control filter-dropdown" id="journalStatusFilter" onchange="filterJournals()">
                                <option value="All">All Status</option>
                                <option value="Draft">Draft</option>
                                <option value="Pending">Pending</option>
                                <option value="Posted">Posted</option>
                            </select>
                            <input type="date" class="form-control filter-dropdown" id="journalDateFilter" onchange="filterJournals()">
                        </div>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Journal No.</th>
                                        <th>Description</th>
                                        <th>Debit Total</th>
                                        <th>Credit Total</th>
                                        <th>Status</th>
                                        <th>Action</th> 
                                    </tr>
                                </thead>
                                <tbody id="journalTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="trialbalanceTab">
                        <div class="chart-container">
                            <canvas id="trialBalanceChart"></canvas>
                        </div>
                        <div class="table-container">
                            <table>
                               <thead>
                                 <tr>
                                    <th>Account Code</th>
                                    <th>Account Name</th>
                                    <th>Debit Balance</th>
                                    <th>Net Balance</th>
                                </tr>
                               </thead>
                               <tbody id="trialBalanceTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="ledgerTab">
                        <div class="search-filter">
                            <div class="search-box">
                                <i class="search"></i>
                                <input type="text" class="form-control" id="ledgerSearch" placeholder="Search ledger entries..."> 
                            </div>
                            <select class="form-control filter-dropdown" id="ledgerAccountFilter">
                                <option value="">Select Account</option>
                            </select>
                            <input type="date" class="form-control filter-dropdown" id="ledgerDateFilter">
                        </div>

                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Account</th>
                                        <th>Journal No.</th>
                                        <th>Debit</th>
                                        <th>Credit</th>
                                        <th>Balance</th>
                                        <th>Description</th>
                                    </tr>
                                </thead>
                                <tbody id="ledgerTable"></tbody>
                            </table>
                        </div>
                    </div>

                    <div class="tab-content" id="closingTab">
                        <div class="bank-card">
                            <h3>Period Closing Process</h3>
                            <p>Run month-end or year-end closing procedures</p>

                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Closing Period</label>
                                    <select class="form-control" id="closingPeriod">
                                        <option value="month">Month-end</option>
                                        <option value="quarter">Quarter-End</option>
                                        <option value="year">Year-End</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <script src="script.js"></script>
</body>

</html>
